<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<header th:fragment="header" class="header">
    <div class="header_box clear_fix">
        <!-- logo-box -->
        <div class="logo_box_div">
            <div th:replace="fragments/common.html :: logo_layout"></div>
        </div>

        <div class="user_util_box">
            <ul class="user_util_list">
                <li class="user_util_item">
                    <a href="/user/login" sec:authorize="!isAuthenticated()" class="login_button" id="login_button">
                        로그인
                        <span class="blind">로그인</span>
                    </a>
                    <button type="button" sec:authorize="isAuthenticated()" class="user_profile_button"
                            id="user_profile_button">
                        <img id="header_profile_image" class="header_profile_image"
                             src='../images/user_default_thumbnail.png'/>
                        <span th:text="${user_header.nickname} + '님 반갑습니다.'">소개말</span>
                        <span class="blind">프로필</span>
                    </button>
                </li>
            </ul>

            <th:block th:if="${user_header != null}">
                <ul class="user_option_div" id="user_option_div">
                    <li class="user_option_item">
                        <a class="user_option_link" href="/user/settings">설정</a>
                    </li>

                    <li class="user_option_item">
                        <a class="user_option_link" href="/user/logout">로그아웃</a>
                    </li>
                </ul>
            </th:block>

            <th:block th:if="${user_header == null}">
                <ul class="user_option_div" id="user_option_div">
                    <li class="user_option_item">
                        <a class="user_option_link" href="/user/settings">내정보 관리</a>
                    </li>

                    <li class="user_option_item">
                        <a class="user_option_link" href="/user/logout">로그아웃</a>
                    </li>
                </ul>
            </th:block>
        </div>
    </div>
</header>
</html>